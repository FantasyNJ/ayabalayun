"use strict";!function(){function e(e){var n=getSelector(e.target,".m-file");if(n&&!B&&0===e.button){if("folder"!==n.getAttribute("data-file-type")){var t=n.getAttribute("data-file-id");return window.open("/api/data/getDownload?_id="+t,"_blank"),B=!1,void(document.onmousemove=document.onmouseup=null)}N=n.getAttribute("data-file-id"),a(),J[N]=!0,document.onmousemove=document.onmouseup=null}B=!1}function n(){addEvent(E,"mouseup",e)}function t(){removeEvent(E,"mouseup",e)}function a(e){window.location.hash="all";removeClass(H,"checked"),i(),o(),l()}function i(e){var e=e||N;ajax({method:"get",url:"/api/data/getChildren",data:{pid:e},success:function(e){function n(e){addEvent(i[e],"mouseup",function(n){n.stopPropagation();var t=T[e];f(t,"checked"),c(),document.onmousemove=document.onmouseup=null})}var t=e.data,a="";t.forEach(function(e){a+=r(e)}),E.innerHTML=a;for(var i=$S(".checkbox",E),o=0;o<i.length;o++)n(o);for(var l=document.querySelectorAll(".m-file .name input"),o=0;o<l.length;o++)addEvent(l[o],"mousemove",function(e){e.stopPropagation()}),addEvent(l[o],"mousedown",function(e){e.stopPropagation()}),addEvent(l[o],"mouseup",function(e){e.stopPropagation()})}})}function o(e){var e=e||N;ajax({method:"get",url:"/api/data/getNav",data:{pid:e},success:function(e){var n=e.data;j.querySelector("a").style.backgroundPosition="";for(var t="",i=999,o=0;o<n.length;o++){i--;var l="";o===n.length-1&&(l="background-position: right -200px;"),t+='<a href="javascript:;" data-file-id="'+n[o]._id+'" style="z-index:'+i+";"+l+'">'+n[o].name+"</a>"}A.innerHTML=t,0===n.length&&(j.querySelector("a").style.backgroundPosition="right -200px");for(var s=$S("a",j),o=0;o<s.length;o++)s[o].onclick=function(){N=this.getAttribute("data-file-id"),J[N]=!0,a()}}})}function l(){function e(n,t){var t=t||null,a=h(n,t),i='<ul style="display: none;">';return a.forEach(function(t){var a=b(n,t._id),o=14*a+"px",l="";t._id===N&&(l="tree-nav",removeClass($S(".tree-title",z)[0],"tree-nav")),"null"===N&&addClass($S(".tree-title",z)[0],"tree-nav");var s="",r="display:none";k(n,t._id)&&(s="tree-contro",r="display:inline"),i+='\n                <li>\n                    <div class="tree-title '+s+" "+l+'" data-file-id='+t._id+'  style="padding-left:'+o+'">\n                        <span>\n                            <strong class="ellipsis">'+t.name+'</strong>\n                            <i class="ico" style="'+r+'"></i>\n                        </span>\n                    </div>\n                    '+e(n,t._id)+"\n                </li>\n            "}),i+="</ul>"}var n=n||N;ajax({method:"get",url:"/api/data/getTree",data:{pid:n},success:function(n){var t=n.data,a=$S(".tree-title",z)[0];if(0===t.length)$S(".ico",a)[0].style.display="none",removeClass(a,"tree-contro-list"),D.innerHTML=e(t);else{$S(".ico",a)[0].style.display="inline",a.on||void 0===a.on?addClass(a,"tree-contro-list"):addClass(a,"tree-contro"),D.innerHTML=e(t),D.querySelector("ul").style.display="block",$S(".tree-title",z)[0].on=!0;$S(".tree-title",z);for(var i in J){var o='.tree-title[data-file-id="'+i+'"]';if(J[i])try{var l=z.querySelector(o);l.on=!0,removeClass(l,"tree-contro"),addClass(l,"tree-contro-list"),next(l).style.display="block"}catch(e){}else try{var l=z.querySelector(o);l.on=!1}catch(e){}}}}})}function s(){_=!0;var e=document.createElement("div");e.className="m-cfile",e.innerHTML='\n        <span class="checkbox"></span>\n        <div class="img"><span class="img-file f-inbl"></span></div>\n        <div class="name">\n            <input type="text">\n        </div>\n    ',E.insertBefore(e,T[0]);var n=$S("input",e)[0];n.focus(),addEvent(e,"mousedown",function(e){e.cancelBubble=!0})}function r(e){var n='\n        <div class="m-file" data-file-id="'+e._id+'" data-file-type="'+e.type+'">\n            <span class="checkbox"></span>\n            <div class="img"><span class="img-'+e.type+' f-inbl"></span></div>\n            <div class="name">\n                <span class="ellipsis" style="display: block;">'+e.name+'</span>\n                <input style="display: none;" type="text">\n            </div>\n        </div>\n    ';return n}function d(e,n){Z.innerHTML=n,U.className="full-tip-box",U.style.top="-32px",U.style.transition="none",setTimeout(function(){U.className="full-tip-box",U.style.top=0,U.style.transition=".3s",addClass(U,e)},0),clearInterval(U.timer),U.timer=setTimeout(function(){U.style.top="-32px"},2e3)}function c(){m()?addClass(H,"checked"):removeClass(H,"checked")}function u(){addClass(H,"checked");for(var e=0;e<T.length;e++)addClass(T[e],"checked")}function v(){removeClass(H,"checked");for(var e=0;e<T.length;e++)removeClass(T[e],"checked")}function f(e,n){return hasClass(e,n)?(removeClass(e,n),!1):(addClass(e,n),!0)}function p(){for(var e=$S(".checkbox",E),n=[],t=0;t<e.length;t++){e[t];hasClass(T[t],"checked")&&n.push(T[t])}return n}function m(){var e=p();return e.length===T.length&&0!==T.length}function g(e,n){for(var t=0;t<e.length;t++)if(e[t]._id===n)return e[t]}function h(e,n){for(var t=[],a=0;a<e.length;a++)e[a].pid===n&&t.push(e[a]);return t}function y(e,n){var t=g(e,n);if(t)return g(e,t.pid)}function S(e,n){var t=[],a=y(e,n);return a&&(t.push(a),t=t.concat(S(e,a._id))),t}function b(e,n){var t=S(e,n);return t.length+2}function k(e,n){var t=h(e,n).length;return 0!==t}function $(e,n){var t=n.getBoundingClientRect(),a=e.clientX,i=e.clientX,o=e.clientY,l=e.clientY,s=t.left,r=t.left+t.width,d=t.top,c=t.top+t.height;return i>s&&a<r&&l>d&&o<c}function x(e){e.code?d("err",e.message):d("ok",e.message),a()}function w(e){e.style.left=(window.innerWidth-e.offsetWidth)/2+"px",e.style.top=(window.innerHeight-e.offsetHeight)/2+"px",window.onresize=function(){e.style.left=(window.innerWidth-e.offsetWidth)/2+"px",e.style.top=(window.innerHeight-e.offsetHeight)/2+"px"}}function C(e){E.innerHTML="",ajax({method:"get",url:e,success:function(e){function n(e){addEvent(o[e],"mouseup",function(n){n.stopPropagation();var t=T[e];f(t,"checked"),c(),document.onmousemove=document.onmouseup=null})}var a=e.data,i="";a.forEach(function(e){i+=r(e)}),E.innerHTML=i;var o=$S(".checkbox",E);c();for(var l=0;l<o.length;l++)n(l);"recylebin"===Q&&t()}})}var E=$S(".g-filecon")[0],M=$S(".g-filewrap")[0],H=$S("#all"),T=E.children,q=$S(".g-toolbar")[0],L=$S(".g-btn-left")[0],j=($S(".u-btn",L),$S(".g-path")[0]),A=$S(".g-path-tree",j)[0],N=null,_=!1,X=!1,B=!1,Y=$S(".drag-move")[0],P=$S(".icons",Y)[0],I=$S(".sum",Y)[0],O=$S(".g-file-tree")[0],z=$S(".tree-menu",O)[0],D=$S(".tree-wrap",z)[0],J={},R=$S("contextmenu")[0],W=$S(".ctx-remove",R)[0],F=$S(".ctx-move",R)[0],V=$S(".ctx-rename",R)[0],G=$S(".contextmenu")[0],K=($S("a",G),$S(".g-bk")[0]),Q=window.location.hash.substring(1);!function(){function e(){n.isShow?t.style.left=0:t.style.left="165px",n.isShow=!n.isShow}var n=$S(".u-btn-list",q)[0],t=$S(".g-file-show")[0];n.isShow=!0,addEvent(n,"click",e)}(),function(){function e(){var e=$S(".m-cfile",E)[0],n=$S("input",e)[0].value.trim();void 0!==e&&""===n&&E.removeChild(e),_=!1,""!==n&&ajax({method:"post",url:"/api/data/createFile",data:{name:n,pid:N},success:function(e){e.code?d("err",e.message):d("ok",e.message),a()}})}var n=$S(".mkdir",L)[0];a(),addEvent(n,"mouseup",function(){X?d("err","有文件正在重命名"):(s(),v())}),addEvent(document,"mousedown",function(){_&&e()}),addEvent(document,"keydown",function(n){_&&13===n.keyCode&&e()})}(),addEvent(H,"click",function(){0!==T.length&&(f(this,"checked"),hasClass(this,"checked")?u():v())}),n(),addEvent(M,"mousedown",function(e){if(0===e.button){var n=e.pageX,t=e.pageY,a=document.createElement("div");a.className="dragselect",document.body.appendChild(a),document.onmousemove=function(e){if(n!==e.pageX||t!==e.pageY){var e=e||event;a.style.left=Math.min(e.pageX,n)+"px",a.style.top=Math.min(e.pageY,t)+"px",a.style.width=Math.abs(e.pageX-n)+"px",a.style.height=Math.abs(e.pageY-t)+"px";for(var i=0;i<T.length;i++)pz(a,T[i])?addClass(T[i],"checked"):removeClass(T[i],"checked");c()}},document.onmouseup=function(){document.body.removeChild(a),document.onmousemove=document.onmouseup=null},e.preventDefault()}}),addEvent(z,"click",function(e){var n=getSelector(e.target,".tree-title");if(null!==n){var t=n.getAttribute("data-file-id");e.target.className.indexOf("ico")!==-1?(n.on?(k(t)&&(removeClass(n,"tree-contro-list"),addClass(n,"tree-contro")),next(n).style.display="none"):(removeClass(n,"tree-contro"),addClass(n,"tree-contro-list"),next(n).style.display="block"),n.on=!n.on,J[t]=n.on):(N=t,a(N),J[t]=!0)}});var U=$S(".full-tip-box")[0],Z=$S(".text",U)[0];addEvent(E,"mousedown",function(e){if(0===e.button){var n=getSelector(e.target,".m-file");if(null!==n){e.stopPropagation();var t=e.pageX,i=e.pageY;document.onmousemove=function(e){if((t!==e.pageX||i!==e.pageY)&&(B=!0,Math.abs(e.pageX-t)>15||Math.abs(e.pageY-i)>15)){hasClass(n,"checked")||(v(),addClass(n,"checked"));var a=p();Y.style.left=e.pageX+15+"px",Y.style.top=e.pageY+15+"px",Y.style.display="block",I.innerHTML=a.length;for(var o=a.length>4?4:a.length,l=0;l<o;l++){var s=document.createElement("span");s.className="icon",s.style.left=5*l+"px",s.style.top=3*l+"px",P.appendChild(s)}document.onmousemove=function(e){Y.style.left=e.pageX+15+"px",Y.style.top=e.pageY+15+"px"}}},document.onmouseup=function(e){if(Math.abs(e.pageX-t)<5&&Math.abs(e.pageY-i)<5)return console.log(t-e.pageX,i-e.pageY),N=n.getAttribute("data-file-id"),a(),void(document.onmousemove=document.onmouseup=null);Y.style.display="none",P.innerHTML="";for(var o=0;o<T.length;o++)if($(e,T[o])){var l=T[o];break}var s=p();if(l&&s.indexOf(l)===-1&&0!==s.length){console.log(s);for(var r=l.getAttribute("data-file-id"),c=[],o=0;o<s.length;o++){var u=s[o],v=u.getAttribute("data-file-id");c.push(v)}ajax({method:"post",url:"/api/data/move",data:{upId:r,selectId:JSON.stringify(c)},success:function(e){e.code?d("err",e.message):d("ok",e.message),a()}}),console.log(c,r)}document.onmousemove=document.onmouseup=null,B=!1},e.preventDefault()}}}),function(){function e(e){X=!0;var n=p();if(1!==n.length)0===n.length?d("err","请选择文件"):d("err","只能对单个文件夹重命名"),X=!1;else{var t=n[0],a=$S(".name",t)[0],i=$S("span",a)[0],o=$S("input",a)[0];i.style.display="none",o.style.display="block",o.value=i.innerHTML,o.focus()}e.cancelBubble=!0}function n(){var e=p()[0],n=e.getAttribute("data-file-id"),t=$S(".name",e)[0],i=$S("span",t)[0],o=$S("input",t)[0],l=o.value.trim();0===l.length||l===i.innerHTML?(o.style.display="none",i.style.display="inline",a()):ajax({method:"post",url:"/api/data/rename",data:{name:l,_id:n,pid:N},success:function(e){e.code?d("err",e.message):d("ok",e.message),a()}}),X=!1}var t=$S(".rename",L)[0];addEvent(t,"mouseup",e),addEvent(V,"click",function(n){e(n),G.style.display="none"}),addEvent(document,"mousedown",function(){X&&n()}),addEvent(document,"keydown",function(e){X&&13===e.keyCode&&n()})}(),function(){function e(){function e(e){for(var t=p(),i=[],o=0;o<t.length;o++){var l=t[o].getAttribute("data-file-id");i.push(l)}ajax({method:"post",url:"/api/data/recylebin",data:{removeIds:JSON.stringify(i)},success:function(e){e.code?d("err",e.message):d("ok",e.message),Q=window.location.hash.substring(1),""===Q||"all"===Q?(console.log("all"),a()):"music"===Q?(console.log("music"),C("/api/data/getVideo")):"video"===Q&&(console.log("video"),C("/api/data/getVideo"))}}),n(e),c(),window.onresize=null,e.cancelBubble=!0}function n(e){document.body.removeChild(t),K.style.display="none",window.onresize=null,e.cancelBubble=!0}var t=document.createElement("div");t.className="g-confirm",t.innerHTML='\n            <h3 class="g-confirm-header"><div class="title">删除文件</div></h3>\n            <div class="g-confirm-content">\n                <div class="mod-alert">\n                    <div class="alert-inner">\n                        <i class="ico-alert"></i>\n                        <h4 class="title">确定要删除文件夹吗？</h4>\n                        <p class="info">已删除的文件可以在回收站找到</p>\n                    </div>\n                </div>\n            </div>\n            <div class="g-confirm-btn">\n                <a class="btn ok f-inbl" href="javascript:void(0)">确定</a>\n                <a class="btn cancel f-inbl" href="javascript:void(0)">取消</a>\n            </div>\n            <div class="g-confirm-close">×</div>\n        ';var i=$S(".ok",t)[0],o=$S(".cancel",t)[0],l=$S(".g-confirm-close",t)[0];document.body.appendChild(t),K.style.display="block",w(t),addEvent(i,"click",e),addEvent(o,"click",n),addEvent(l,"click",n)}var n=$S(".dele",L)[0];addEvent(n,"mouseup",function(){var n=p();0===n.length?d("err","请选择文件"):e()}),addEvent(W,"click",function(n){var t=p();0===t.length?d("err","请选择文件"):e()})}(),function(){function e(){var e=p();0===e.length?d("err","请选择文件"):n()}function n(){function e(e){var t=p(),i=[];if(""===f)n(e);else{for(var o=0;o<t.length;o++){var l=t[o],s=l.getAttribute("data-file-id");if(s===f)return n(e),void d("err","文件不能移入到本身");i.push(s)}console.log(i),ajax({method:"post",url:"/api/data/move",data:{upId:f,selectId:JSON.stringify(i)},success:function(t){n(e),a(),x(t)}})}}function n(e){document.body.removeChild(i),K.style.display="none",window.onresize=null,e.cancelBubble=!0}function t(){function e(n,t){var t=t||null,a=h(n,t),i='<ul style="display: none;">';return a.forEach(function(t){var a=b(n,t._id),o=14*a+"px";t._id===N&&removeClass($S(".tree-title",v)[0],"tree-nav"),"null"===N&&addClass($S(".tree-title",v)[0],"tree-nav");var l="",s="display:none";k(n,t._id)&&(l="tree-contro",s="display:inline"),i+='\n                    <li>\n                        <div class="tree-title '+l+'" data-file-id='+t._id+'  style="padding-left:'+o+'">\n                            <span>\n                                <strong class="ellipsis">'+t.name+'</strong>\n                                <i class="ico" style="'+s+'"></i>\n                            </span>\n                        </div>\n                        '+e(n,t._id)+"\n                    </li>\n                "}),i+="</ul>"}var n=n||N;ajax({method:"get",url:"/api/data/getTree",data:{pid:n},success:function(n){var t=n.data;if(0===t.length)$S(".ico",c)[0].style.display="none",removeClass(c,"tree-contro-list"),u.innerHTML=e(t);else{$S(".ico",c)[0].style.display="inline",c.on||void 0===c.on?addClass(c,"tree-contro-list"):addClass(c,"tree-contro"),u.innerHTML=e(t),u.querySelector("ul").style.display="block",$S(".tree-title",v)[0].on=!0;$S(".tree-title",v)}}})}var i=document.createElement("div");i.className="g-move-confirm g-confirm",i.innerHTML='\n            <h3 class="g-move-confirm-header g-confirm-header"><div class="title">移动文件</div></h3>\n            <div class="g-move-confirm-content g-confirm-content">\n                <div class="mod-alert">\n                    <div class="alert-inner">\n                        <div class="tree-menu">\n                            <ul>\n                                <li>\n                                    <div class="tree-title" data-file-id="null" style="padding-left:14px;">\n                                        <span>\n                                            <strong class="ellipsis">云盘</strong>\n                                            <i class="ico"></i>\n                                        </span>\n                                    </div>\n                                    <div class="tree-wrap">\n                                        <!-- <ul>\n                                            <li>\n                                                <div class="tree-title tree-contro" style="padding-left: 24px;">\n                                                    <span>\n                                                        <strong class="ellipsis">我的文档</strong>\n                                                        <i class="ico"></i>\n                                                    </span>\n                                                </div>\n                                                <ul></ul>\n                                            </li>\n                                        </ul> -->\n                                    </div>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="g-move-confirm-btn g-confirm-btn">\n                <a class="btn ok f-inbl" href="javascript:void(0)">确定</a>\n                <a class="btn cancel f-inbl" href="javascript:void(0)">取消</a>\n            </div>\n            <div class="g-move-confirm-close g-confirm-close">×</div>\n        ',document.body.appendChild(i),t();var o=$S(".ok",i)[0],l=$S(".cancel",i)[0],s=$S(".g-move-confirm-close",i)[0],r=i,c=$S(".tree-title",r)[0],u=$S(".tree-wrap",r)[0],v=$S(".tree-menu",r)[0],f="";K.style.display="block",w(i),addEvent(o,"click",e),addEvent(l,"click",n),addEvent(s,"click",n),addEvent(v,"click",function(e){var n=getSelector(e.target,".tree-title");if(null!==n){var t=n.getAttribute("data-file-id");if(e.target.className.indexOf("ico")!==-1)n.on?(k(t)&&(removeClass(n,"tree-contro-list"),addClass(n,"tree-contro")),next(n).style.display="none"):(removeClass(n,"tree-contro"),addClass(n,"tree-contro-list"),next(n).style.display="block"),n.on=!n.on;else{for(var a=$S(".tree-title",v),i=0;i<a.length;i++)removeClass(a[i],"tree-nav");addClass(n,"tree-nav"),f=t}}})}var t=$S(".move",L)[0];addEvent(t,"mouseup",e),addEvent(F,"click",e)}(),function(){var e=document.querySelector(".u-btn.restore");addEvent(e,"click",function(){var e=p();if(0===e.length)d("err","请选择文件");else{for(var n=[],t=0;t<e.length;t++){var a=e[t].getAttribute("data-file-id");n.push(a)}ajax({method:"post",url:"/api/data/restore",data:{restoreIds:JSON.stringify(n)},success:function(e){e.code?d("err",e.message):d("ok",e.message),C("/api/data/getRecycleBin")}}),c()}})}(),function(){var e=document.querySelector(".u-btn.remove");addEvent(e,"click",function(){var e=p();if(0===e.length)d("err","请选择文件");else{for(var n=[],t=0;t<e.length;t++){var a=e[t].getAttribute("data-file-id");n.push(a)}ajax({method:"post",url:"/api/data/remove",data:{removeIds:JSON.stringify(n)},success:function(e){e.code?d("err",e.message):d("ok",e.message),C("/api/data/getRecycleBin")}}),c()}})}(),function(){var e=$S(".m-upload")[0];addEvent(e,"click",function(){function e(e){var t=d.files[0];if(t.type.search(/mp3|mp4/)===-1)return void alert("只能上传MP3、MP4文件格式");var i=document.querySelector(".g-upload-list"),o=null,l=null,s=new XMLHttpRequest;s.open("post","/api/upload",!0),s.upload.onloadstart=function(){var e=document.createElement("li");e.innerHTML='\n                    <div class="progress-bar-wrap">\n                       <div class="progress-bar"></div>\n                    </div>\n                    <p class="progress-con clearfix">\n                        <span class="per f-left">0%</span> <span class="upload-name f-right">'+t.name+"</span>\n                    </p>\n                ",i.appendChild(e),o=$S(".per",e)[0],l=$S(".progress-bar",e)[0],o.innerHTML="0%",l.style.width="0%"},s.upload.onprogress=function(e){var n=e.loaded/e.total;o.innerHTML=l.style.width=(100*n).toFixed(2)+"%"},s.onload=function(){o.innerHTML="上传成功",l.style.width="100%",x(JSON.parse(this.responseText)),a()};var r=new FormData;r.append("file",t),r.append("pid",N),s.send(r),n(e)}function n(e){document.body.removeChild(t),K.style.display="none",window.onresize=null,e.cancelBubble=!0}var t=document.createElement("div");t.className="g-file g-confirm",t.innerHTML='\n            <h3 class="g-file-header g-confirm-header"><div class="title">上传文件</div></h3>\n            <div class="g-file-content g-confirm-content">\n                <div class="mod-alert">\n                    <div class="alert-inner">\n                        <form action="/api/data/upload" method="post" size="4000000">\n                            <input type="file" name="file" id="file" style="position:absolute;overflow: hidden;width:0;height:0;">\n                            <label for="file">选择文件</label><p style="line-height: 24px;">只能上传MP3/MP4文件格式，文件大小不能超过10M。</p>\n                            <p class="alert-message ellipsis"></p>\n                        </form>\n                    </div>\n                </div>\n            </div>\n            <div class="g-file-btn g-confirm-btn">\n                <a class="btn ok f-inbl" href="javascript:void(0)">上传</a>\n                <a class="btn cancel f-inbl" href="javascript:void(0)">取消</a>\n            </div>\n            <div class="g-file-close g-confirm-close">×</div>\n        ',document.body.appendChild(t),K.style.display="block",w(t);var i=$S(".ok",t)[0],o=$S(".cancel",t)[0],l=$S(".g-file-close",t)[0],s=document.getElementById("file"),r=$S(".alert-message",t)[0],d=document.getElementById("file");addEvent(s,"change",function(){var e=this.files[0];addClass(r,"ok"),r.innerHTML=e.name}),addEvent(i,"click",e),addEvent(o,"click",n),addEvent(l,"click",n)})}(),function(){function e(e){t.style.display=K.style.display="none",window.onresize=null,e.cancelBubble=!0}var n=document.querySelector(".u-btn.u-btn-upload"),t=$S(".g-confirm-upload")[0],a=$S(".ok",t)[0],i=$S(".g-confirm-close",t)[0];addEvent(n,"click",function(){t.style.display=K.style.display="block",w(t)}),addEvent(a,"click",e),addEvent(i,"click",e)}(),addEvent(E,"contextmenu",function(e){var n=getSelector(e.target,".m-file");if(n){var t=p();t.indexOf(n)&&(v(),addClass(n,"checked")),G.style.display="block",G.style.left=e.pageX+"px",G.style.top=e.pageY+"px"}}),addEvent(document,"click",function(){G.style.display="none"}),addEvent(document,"mousedown",function(e){e.preventDefault()}),addEvent(document,"contextmenu",function(e){e.preventDefault()});var ee=$S(".logout")[0],ne=$S("a",ee)[0];addEvent(ne,"click",function(){window.location.href="/logout"}),function(){function e(){Q=window.location.hash.substring(1);var e=document.querySelector(".u-btn.dele");if(e.style.display="",n(),t(),""===Q||"all"===Q){var l=document.querySelector(".m-list.list-all");return a(),o(),addClass(l,"list-current"),void console.log(l)}if("music"===Q){var l=document.querySelector(".m-list.list-music");return C("/api/data/getMusic"),i(),void addClass(l,"list-current")}if("video"===Q){var l=document.querySelector(".m-list.list-video");return C("/api/data/getVideo"),i(),void addClass(l,"list-current")}if("recylebin"===Q){var l=document.querySelector(".m-list.list-recylebin"),s=document.querySelectorAll("[data-remove=remove]");e.style.display="none",C("/api/data/getRecycleBin"),i();for(var r=s.length-1;r>=0;r--){var d=s[r];d.style.display="inline-block"}return void addClass(l,"list-current")}}function t(){for(var e=l.length-1;e>=0;e--){var n=l[e];removeClass(n,"list-current")}}function i(){for(var e=document.querySelectorAll("[data-hidden=hidden]"),n=e.length-1;n>=0;n--){var t=e[n];t.style.display="none"}r.style.left=0,s.isShow=!1}function o(){for(var e=document.querySelectorAll("[data-hidden=hidden]"),n=e.length-1;n>=0;n--){var t=e[n];t.style.display=""}r.style.left="165px",s.isShow=!0}var l=document.querySelectorAll(".m-list"),s=(document.querySelector(".g-btn-left"),document.querySelector(".g-btn-right"),document.querySelector(".g-path"),document.querySelector(".u-btn.mkdir"),$S(".u-btn-list",q)[0]),r=$S(".g-file-show")[0];e(),window.onhashchange=e}()}();